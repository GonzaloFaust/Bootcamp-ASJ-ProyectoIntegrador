{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/ordenes.service\";\nimport * as i2 from \"src/app/services/proveedores.service\";\nimport * as i3 from \"src/app/services/productos.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nfunction OrdenesListaComponent_tr_33_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function OrdenesListaComponent_tr_33_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const orden_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteOrder(orden_r1.numero_orde_compra));\n    });\n    i0.ɵɵtext(1, \"Cancelar\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return [a0];\n};\nfunction OrdenesListaComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 15);\n    i0.ɵɵtext(11, \"Ver\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 15);\n    i0.ɵɵtext(13, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, OrdenesListaComponent_tr_33_button_14_Template, 2, 0, \"button\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const orden_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orden_r1.numero_orden_compra);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orden_r1.fecha_emision);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orden_r1.nombre_proveedor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orden_r1.state);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"routerLink\", orden_r1.numero_orden_compra);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, \"edit/\" + orden_r1.numero_orden_compra));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", orden_r1.state !== \"cancelado\");\n  }\n}\nconst _c1 = function () {\n  return [\"new\"];\n};\nexport class OrdenesListaComponent {\n  constructor(service, servProv, prodServ) {\n    this.service = service;\n    this.servProv = servProv;\n    this.prodServ = prodServ;\n    this.ordenes = [];\n  }\n  ngOnInit() {\n    this.updateLista();\n  }\n  deleteOrder(id) {\n    this.service.deleteOrden(id);\n    this.updateLista();\n  }\n  updateLista() {\n    this.ordenes = this.service.getOrdenesCompra();\n    this.ordenes = this.ordenes.map(o => {\n      return {\n        ...o,\n        nombre_proveedor: this.servProv.getProveedorById(o.cod_proveedor).razon_social\n      };\n    });\n  }\n  static #_ = this.ɵfac = function OrdenesListaComponent_Factory(t) {\n    return new (t || OrdenesListaComponent)(i0.ɵɵdirectiveInject(i1.OrdenesService), i0.ɵɵdirectiveInject(i2.ProveedoresService), i0.ɵɵdirectiveInject(i3.ProductosService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrdenesListaComponent,\n    selectors: [[\"app-ordenes-lista\"]],\n    decls: 34,\n    vars: 3,\n    consts: [[1, \"container\", \"mt-5\"], [\"aria-label\", \"breadcrumb mx-3\"], [1, \"breadcrumb\"], [\"aria-current\", \"page\", 1, \"breadcrumb-item\", \"active\"], [\"routerLink\", \"/\", \"routerLinkActive\", \"router-link-active\"], [1, \"card\", \"shadow\", \"mb-4\"], [1, \"container\", \"card-header\", \"py-3\", \"d-flex\", \"justify-content-between\", \"align-items-baseline\"], [1, \"m-0\", \"font-weight-bold\", \"text-primary\"], [\"routerLink\", \"../\", 1, \"btn\", \"btn-outline-primary\", \"me-2\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [1, \"card-body\"], [1, \"table-responsive\"], [\"id\", \"dataTable\", \"width\", \"100%\", \"cellspacing\", \"0\", 1, \"table\", \"table-bordered\"], [\"id\", \"ordenes-container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-warning\", 3, \"routerLink\"], [\"class\", \"btn btn-danger\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function OrdenesListaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"ol\", 2)(3, \"li\", 3)(4, \"a\", 4);\n        i0.ɵɵtext(5, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"li\", 3);\n        i0.ɵɵtext(7, \"Ordenes de Compra\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"h6\", 7);\n        i0.ɵɵtext(11, \"Ordenes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\")(13, \"button\", 8);\n        i0.ɵɵtext(14, \"Volver\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 9);\n        i0.ɵɵtext(16, \"Nueva Orden\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"div\", 11)(19, \"table\", 12)(20, \"thead\")(21, \"tr\")(22, \"th\");\n        i0.ɵɵtext(23, \"Nro Orden\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Fecha Emision\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Proveedor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Estado\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\");\n        i0.ɵɵtext(31, \"Acciones\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"tbody\", 13);\n        i0.ɵɵtemplate(33, OrdenesListaComponent_tr_33_Template, 15, 9, \"tr\", 14);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c1));\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ordenes);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.RouterLink, i5.RouterLinkActive],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","OrdenesListaComponent_tr_33_button_14_Template_button_click_0_listener","ɵɵrestoreView","_r5","orden_r1","ɵɵnextContext","$implicit","ctx_r3","ɵɵresetView","deleteOrder","numero_orde_compra","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","OrdenesListaComponent_tr_33_button_14_Template","ɵɵadvance","ɵɵtextInterpolate","numero_orden_compra","fecha_emision","nombre_proveedor","state","ɵɵpropertyInterpolate","ɵɵproperty","ɵɵpureFunction1","_c0","OrdenesListaComponent","constructor","service","servProv","prodServ","ordenes","ngOnInit","updateLista","id","deleteOrden","getOrdenesCompra","map","o","getProveedorById","cod_proveedor","razon_social","_","ɵɵdirectiveInject","i1","OrdenesService","i2","ProveedoresService","i3","ProductosService","_2","selectors","decls","vars","consts","template","OrdenesListaComponent_Template","rf","ctx","OrdenesListaComponent_tr_33_Template","ɵɵpureFunction0","_c1"],"sources":["C:\\Users\\gfaust\\Desktop\\proyecto integrador\\entrega final\\front\\src\\app\\components\\ordenes\\ordenes-lista\\ordenes-lista.component.ts","C:\\Users\\gfaust\\Desktop\\proyecto integrador\\entrega final\\front\\src\\app\\components\\ordenes\\ordenes-lista\\ordenes-lista.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { OrdenesService } from 'src/app/services/ordenes.service';\r\nimport { ProveedoresService } from 'src/app/services/proveedores.service';\r\nimport { ProductosService } from 'src/app/services/productos.service';\r\n\r\n@Component({\r\n  selector: 'app-ordenes-lista',\r\n  templateUrl: './ordenes-lista.component.html',\r\n  styleUrls: ['./ordenes-lista.component.css']\r\n})\r\nexport class OrdenesListaComponent {\r\n\r\n  ordenes: any[] = []\r\n  constructor(public service: OrdenesService, private servProv: ProveedoresService, private prodServ: ProductosService) {\r\n\r\n  }\r\n  ngOnInit(): void {\r\n    this.updateLista()\r\n  }\r\n\r\n  deleteOrder(id: string) {\r\n    this.service.deleteOrden(id)\r\n    this.updateLista();\r\n  }\r\n\r\n  private updateLista() {\r\n    this.ordenes = this.service.getOrdenesCompra();\r\n    this.ordenes = this.ordenes.map(o => { return { ...o, nombre_proveedor: this.servProv.getProveedorById(o.cod_proveedor).razon_social } })\r\n    \r\n  }\r\n}\r\n","\r\n\r\n\r\n<div class=\"container mt-5\">\r\n\r\n    <nav aria-label=\"breadcrumb mx-3\">\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\"><a routerLink=\"/\"\r\n                    routerLinkActive=\"router-link-active\">Home</a></li>\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">Ordenes de Compra</li>\r\n        </ol>\r\n    </nav>\r\n    <div class=\"card shadow mb-4\">\r\n        <div class=\"container card-header py-3 d-flex justify-content-between align-items-baseline \">\r\n            <h6 class=\"m-0 font-weight-bold text-primary\">Ordenes</h6>\r\n            <div>\r\n                <button routerLink='../'   class=\"btn btn-outline-primary me-2\">Volver</button>\r\n                <button [routerLink]=\"['new']\" class=\"btn btn-primary\">Nueva Orden</button>\r\n            </div>\r\n            \r\n            \r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div class=\"table-responsive\">\r\n                <table class=\"table table-bordered\" id=\"dataTable\" width=\"100%\" cellspacing=\"0\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Nro Orden</th>\r\n                            <th>Fecha Emision</th>\r\n                            <th>Proveedor</th>\r\n                            <th>Estado</th>\r\n                            <th>Acciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"ordenes-container\">\r\n                        <tr *ngFor=\"let orden of ordenes\">\r\n                            <td>{{orden.numero_orden_compra}}</td>\r\n                            <td>{{orden.fecha_emision}}</td>\r\n                            <td>{{orden.nombre_proveedor}}</td>\r\n                            <td>{{orden.state}}</td>\r\n                            \r\n                            <td> \r\n                                <button class=\"btn btn-warning\" routerLink={{orden.numero_orden_compra}}>Ver</button>\r\n                                <button class=\"btn btn-warning\" [routerLink]=\"['edit/'+orden.numero_orden_compra]\">Editar</button>\r\n                                <button *ngIf=\"orden.state!=='cancelado'\" (click)=\"deleteOrder(orden.numero_orde_compra)\" class=\"btn btn-danger\">Cancelar</button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}