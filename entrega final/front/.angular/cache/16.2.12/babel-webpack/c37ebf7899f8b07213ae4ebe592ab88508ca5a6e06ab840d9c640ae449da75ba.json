{"ast":null,"code":"import { producto } from '../../assets/data/productos';\nimport * as i0 from \"@angular/core\";\nexport class ProductosService {\n  constructor() {\n    this.productosData = [];\n    this.productTemplate = structuredClone(blankProduct);\n    this.productosData = JSON.parse(localStorage.getItem('products')) || [...producto];\n  }\n  getProductos() {\n    return this.productosData;\n  }\n  getProductoById(id) {\n    const prod = this.productosData.filter(p => p.id == id)[0];\n    this.productTemplate = prod;\n    return prod;\n  }\n  getProductosbyProveedor(idProv) {\n    return this.productosData.filter(p => p.cod_proveedor == idProv);\n  }\n  addProducto(prov) {\n    this.productosData.push({\n      ...this.productTemplate,\n      id: this.productTemplate.cod_proveedor + this.productTemplate.codigo_SKU\n    });\n    this.productTemplate = structuredClone(blankProduct);\n    this.saveData();\n  }\n  editProducto(id) {\n    this.productTemplate = {\n      ...structuredClone(this.productTemplate),\n      id: id\n    };\n    this.saveData();\n    this.productTemplate = structuredClone(blankProduct);\n  }\n  deleteProducto() {\n    this.productosData = this.productosData.filter(p => p.id !== this.productTemplate.id);\n    this.saveData();\n  }\n  saveData() {\n    localStorage.setItem('products', JSON.stringify(this.productosData));\n  }\n  static #_ = this.ɵfac = function ProductosService_Factory(t) {\n    return new (t || ProductosService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ProductosService,\n    factory: ProductosService.ɵfac,\n    providedIn: 'root'\n  });\n}\nexport const blankProduct = {\n  id: \"\",\n  cod_proveedor: \"\",\n  codigo_SKU: \"\",\n  categoria: \"\",\n  image: '../../assets/image/imagen-producto-mock.jpg',\n  nombre_producto: \"\",\n  descripcion: \"\",\n  precio: 0\n};","map":{"version":3,"names":["producto","ProductosService","constructor","productosData","productTemplate","structuredClone","blankProduct","JSON","parse","localStorage","getItem","getProductos","getProductoById","id","prod","filter","p","getProductosbyProveedor","idProv","cod_proveedor","addProducto","prov","push","codigo_SKU","saveData","editProducto","deleteProducto","setItem","stringify","_","_2","factory","ɵfac","providedIn","categoria","image","nombre_producto","descripcion","precio"],"sources":["C:\\Users\\gfaust\\Desktop\\proyecto integrador\\entrega final\\front\\src\\app\\services\\productos.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { producto } from '../../assets/data/productos';\nimport { Product } from '../models/product';\nimport { productCategory } from '../models/productCategory';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductosService {\n\n  productosData: Array<Product> = []\n\n  productTemplate: Product = structuredClone(blankProduct);\n\n  constructor() {\n    this.productosData = JSON.parse(localStorage.getItem('products')!) || [...producto]\n  }\n\n  public getProductos():Product[]\n  {\n    return this.productosData;\n  }\n\n  public getProductoById(id: string) :Product{\n    const prod = this.productosData.filter(p => p.id == id)[0]\n    this.productTemplate = prod;\n    return prod;\n  }\n\n  getProductosbyProveedor(idProv:string):Product[]{\n    return this.productosData.filter(p=>p.cod_proveedor==idProv)  \n  }\n\n  public addProducto(prov: any):void {\n    this.productosData.push({ ...this.productTemplate, id: this.productTemplate.cod_proveedor + this.productTemplate.codigo_SKU });\n    this.productTemplate = structuredClone(blankProduct)\n    this.saveData()\n  }\n\n  public editProducto(id: string):void {\n    this.productTemplate = { ...structuredClone(this.productTemplate), id:id }\n    this.saveData()\n    this.productTemplate = structuredClone(blankProduct)\n  }\n\n  public deleteProducto() :void{\n    this.productosData = this.productosData.filter(p => p.id !== this.productTemplate.id)\n    this.saveData()\n  }\n\n\n  private saveData(){\n    localStorage.setItem('products',JSON.stringify(this.productosData))\n  }\n}\n\n\n\n\nexport const blankProduct: Product = {\n  id: \"\",\n  cod_proveedor: \"\",\n  codigo_SKU: \"\",\n  categoria: \"\" as productCategory,\n  image: '../../assets/image/imagen-producto-mock.jpg',\n  nombre_producto: \"\",\n  descripcion: \"\",\n  precio: 0\n\n}"],"mappings":"AACA,SAASA,QAAQ,QAAQ,6BAA6B;;AAOtD,OAAM,MAAOC,gBAAgB;EAM3BC,YAAA;IAJA,KAAAC,aAAa,GAAmB,EAAE;IAElC,KAAAC,eAAe,GAAYC,eAAe,CAACC,YAAY,CAAC;IAGtD,IAAI,CAACH,aAAa,GAAGI,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE,CAAC,IAAI,CAAC,GAAGV,QAAQ,CAAC;EACrF;EAEOW,YAAYA,CAAA;IAEjB,OAAO,IAAI,CAACR,aAAa;EAC3B;EAEOS,eAAeA,CAACC,EAAU;IAC/B,MAAMC,IAAI,GAAG,IAAI,CAACX,aAAa,CAACY,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACH,EAAE,IAAIA,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1D,IAAI,CAACT,eAAe,GAAGU,IAAI;IAC3B,OAAOA,IAAI;EACb;EAEAG,uBAAuBA,CAACC,MAAa;IACnC,OAAO,IAAI,CAACf,aAAa,CAACY,MAAM,CAACC,CAAC,IAAEA,CAAC,CAACG,aAAa,IAAED,MAAM,CAAC;EAC9D;EAEOE,WAAWA,CAACC,IAAS;IAC1B,IAAI,CAAClB,aAAa,CAACmB,IAAI,CAAC;MAAE,GAAG,IAAI,CAAClB,eAAe;MAAES,EAAE,EAAE,IAAI,CAACT,eAAe,CAACe,aAAa,GAAG,IAAI,CAACf,eAAe,CAACmB;IAAU,CAAE,CAAC;IAC9H,IAAI,CAACnB,eAAe,GAAGC,eAAe,CAACC,YAAY,CAAC;IACpD,IAAI,CAACkB,QAAQ,EAAE;EACjB;EAEOC,YAAYA,CAACZ,EAAU;IAC5B,IAAI,CAACT,eAAe,GAAG;MAAE,GAAGC,eAAe,CAAC,IAAI,CAACD,eAAe,CAAC;MAAES,EAAE,EAACA;IAAE,CAAE;IAC1E,IAAI,CAACW,QAAQ,EAAE;IACf,IAAI,CAACpB,eAAe,GAAGC,eAAe,CAACC,YAAY,CAAC;EACtD;EAEOoB,cAAcA,CAAA;IACnB,IAAI,CAACvB,aAAa,GAAG,IAAI,CAACA,aAAa,CAACY,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAK,IAAI,CAACT,eAAe,CAACS,EAAE,CAAC;IACrF,IAAI,CAACW,QAAQ,EAAE;EACjB;EAGQA,QAAQA,CAAA;IACdf,YAAY,CAACkB,OAAO,CAAC,UAAU,EAACpB,IAAI,CAACqB,SAAS,CAAC,IAAI,CAACzB,aAAa,CAAC,CAAC;EACrE;EAAC,QAAA0B,CAAA,G;qBA7CU5B,gBAAgB;EAAA;EAAA,QAAA6B,EAAA,G;WAAhB7B,gBAAgB;IAAA8B,OAAA,EAAhB9B,gBAAgB,CAAA+B,IAAA;IAAAC,UAAA,EAFf;EAAM;;AAqDpB,OAAO,MAAM3B,YAAY,GAAY;EACnCO,EAAE,EAAE,EAAE;EACNM,aAAa,EAAE,EAAE;EACjBI,UAAU,EAAE,EAAE;EACdW,SAAS,EAAE,EAAqB;EAChCC,KAAK,EAAE,6CAA6C;EACpDC,eAAe,EAAE,EAAE;EACnBC,WAAW,EAAE,EAAE;EACfC,MAAM,EAAE;CAET"},"metadata":{},"sourceType":"module","externalDependencies":[]}